# IMPORTANT: concretize with --deprecated or it will not work
spack:
  specs:
    - boost@1.77.0 +program_options +test +json # first version to support cxxstd=20
    - cmake@3.14.7

    - edm4hep@0.10.5
    - eigen@3.4.0
    - git-lfs@3.5.1
    - intel-tbb@2020.1
    - nlohmann-json@3.10.5
    - podio@0.17.4
    - root@6.28.04 -aqua -opengl -x ^libpng+pic 
    - dd4hep@1.26 +xercesc +edm4hep +hepmc3
    - geomodel@6.8.0 +geomodelg4
    - python@3.9
    - py-pybind11 @2.13.6
    - py-pip
    - py-jinja2 # for edm4hep + podio
    - py-pyyaml # for edm4hep + podio

    - hepmc3@3.2.4 +rootio
    # compression libraries that can be used by hepmc3 if configured
    - zstd
    - lz4
    - zlib-ng
    - bzip2

    - pythia8@8.310 -hepmc +hepmc3
    - geant4@11.1.3 -data
    - fastjet@3.4.1 plugins=cxx

  packages:
    all:
      target:
      - aarch64
      - x86_64
      variants: cxxstd=20 build_type=Release
      require: "%gcc@11"
    mesa:
      buildable: false

  concretizer:
    unify: true

  config:
    install_tree:
      padded_length: 128
    connect_timeout: 60

  mirrors:
    acts-spack-buildcache:
      url: oci://ghcr.io/acts-project/spack-buildcache
      signed: false
      access_pair:
        id_variable: GH_OCI_USER
        secret_variable: GH_OCI_TOKEN
